# Internationalization (i18n) for AI Providers

This document explains what translations providers must register.

## Required: History Label

Every provider must register a history label. This is shown in the asset library for generated items.

```typescript
import { getPanelId } from '@imgly/plugin-ai-generation-web';

export function MyProvider(config: ProviderConfiguration) {
  return async ({ cesdk }) => {
    const modelKey = 'partner/vendor/model-name';

    cesdk.i18n.setTranslations({
      en: {
        [`libraries.${getPanelId(modelKey)}.history.label`]: 'Generated Images'
      }
    });

    return createImageProvider({ modelKey, ... }, config);
  };
}
```

Use `getPanelId(modelKey)` to generate the panel ID (converts `partner/vendor/model` to `ly_img_ai_partner_vendor_model`).

### History Label by Provider Type

| Provider Type | History Label |
|---------------|---------------|
| Text-to-Image | `'Generated From Text'` |
| Image-to-Image | `'Generated From Image'` |
| Text-to-Video | `'Generated Videos'` |
| Image-to-Video | `'Generated From Image'` |

## Custom Enum Values (Style, etc.)

If your provider has custom enum values not covered by defaults, register translations for them.

**Default translations already exist for:** common aspect ratios (`1:1`, `16:9`, `9:16`, etc.), resolutions (`720p`, `1080p`), and standard properties. See `packages/plugin-ai-generation-web/src/openapi/defaultTranslations.ts` for the full list.

**You only need to register** provider-specific values like custom styles:

```typescript
const STYLES = [
  { id: 'realistic', label: 'Realistic' },
  { id: 'anime', label: 'Anime Style' },
  { id: 'digital_art', label: 'Digital Art' }
];

// Build translations
const styleTranslations: Record<string, string> = {};
STYLES.forEach(({ id, label }) => {
  styleTranslations[
    `ly.img.plugin-ai-image-generation-web.${modelKey}.property.style.${id}`
  ] = label;
});

cesdk.i18n.setTranslations({
  en: {
    [`libraries.${getPanelId(modelKey)}.history.label`]: 'Generated Images',
    ...styleTranslations
  }
});
```

### Alternative: Schema Labels

Enum labels can also be defined in the JSON schema using `x-imgly-enum-labels`:

```json
{
  "style": {
    "type": "string",
    "enum": ["realistic", "anime", "digital_art"],
    "x-imgly-enum-labels": {
      "realistic": "Realistic",
      "anime": "Anime Style",
      "digital_art": "Digital Art"
    }
  }
}
```

The system extracts these automatically. Use `cesdk.i18n.setTranslations()` when you need runtime-determined labels or custom property renderers.

## Adding Default Translations

If your provider uses common enum values that other providers might also use, add them to the defaults file instead:

**File:** `packages/plugin-ai-generation-web/src/openapi/defaultTranslations.ts`

```typescript
export const defaultTranslations: Record<string, string> = {
  // ... existing defaults ...

  // Add new common values here
  'ly.img.plugin-ai-generation-web.defaults.property.aspect_ratio.21:9': '21:9 (Ultrawide)',
};
```

This makes the translation available to all providers automatically.

## Checklist

- [ ] History label registered (`libraries.{panelId}.history.label`)
- [ ] Custom enum values translated (if not using schema labels)
- [ ] Common values added to `defaultTranslations.ts` (if reusable across providers)
